(()=>{"use strict";let e=[];const t=document.getElementById("show-project-form"),n=document.getElementById("add-project-form"),d=document.getElementById("add-project"),i=document.getElementById("project-title"),a=document.getElementById("project-description"),r=document.getElementById("project-due-date"),o=document.getElementById("projects-container"),c=document.getElementById("add-task-form"),l=document.getElementById("add-task"),u=document.getElementById("task-title"),s=document.getElementById("task-description"),m=document.getElementById("task-due-date"),p=document.getElementById("task-priority"),E=document.getElementById("task-notes");function v(){localStorage.setItem("projectsArray",JSON.stringify(e))}function k(){o.innerHTML="",e.forEach((t=>{if(null!=t){let d=document.createElement("div"),i=document.createElement("p"),a=document.createElement("button");i.innerHTML="Project: "+t.title+"<br>Description: "+t.description+"<br>Due Date: "+t.dueDate,a.innerText="Delete Project",a.setAttribute("data-index",e.indexOf(t)),a.addEventListener("click",(function(){delete e[a.dataset.index],v(),o.removeChild(d)}));let r=document.createElement("button");r.innerHTML="Create Task",r.addEventListener("click",(function(){c.hidden=!1,l.setAttribute("data-index",e.indexOf(t))}));let u=document.createElement("div");u.setAttribute("hidden",!0);let s=document.createElement("button");function n(){t.tasks.every((e=>null===e))&&s.setAttribute("hidden",!0)}s.addEventListener("click",(function(){u.hidden?(u.hidden=!1,s.innerHTML="Hide Tasks"):(u.hidden=!0,s.innerHTML="Show Tasks")})),s.innerHTML="Show Tasks",n(),t.tasks.forEach((e=>{if(null!=e){let d=document.createElement("p"),i=document.createElement("button");i.innerHTML="Delete Task",d.innerHTML+="<br><br>Task: "+e.title+"<br>Description: "+e.description+"<br>Due Date: "+e.dueDate+"<br>Priority: "+e.priority+"<br>Notes: "+e.notes+"<br><br>",i.setAttribute("data-index",t.tasks.indexOf(e)),i.addEventListener("click",(function(){delete t.tasks[i.dataset.index],n(),v(),u.removeChild(d)})),d.append(i),u.append(d)}})),d.append(i,u,s,r,a),o.appendChild(d)}}))}t.addEventListener("click",(function(){n.hidden=!1})),d.addEventListener("click",(function(){if(""!=i.value&&""!=a.value&&""!=r.value){let c=(t=i.value,d=a.value,o=r.value,{title:t,description:d,dueDate:o,tasks:[]});e.push(c),v(),n.hidden=!0,k()}var t,d,o})),l.addEventListener("click",(function(){if(""!=u.value&&""!=s.value&&""!=m.value&&""!=p.value&&""!=E.value){let r=(t=u.value,n=s.value,d=m.value,i=p.value,a=E.value,{title:t,description:n,dueDate:d,priority:i,notes:a});e[l.dataset.index].tasks.push(r),v(),c.hidden=!0,k(),console.log(e)}var t,n,d,i,a})),e=JSON.parse(localStorage.getItem("projectsArray")),null===e&&(e=[]),k(),console.log(e)})();