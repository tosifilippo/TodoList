(()=>{"use strict";let e=[];const t=document.getElementById("show-project-form"),n=document.getElementById("add-project-form"),d=document.getElementById("add-project"),a=document.getElementById("project-title"),i=document.getElementById("project-description"),o=document.getElementById("project-due-date"),r=document.getElementById("projects-container"),l=document.getElementById("add-task-form"),c=document.getElementById("add-task"),u=document.getElementById("task-title"),s=document.getElementById("task-description"),m=document.getElementById("task-due-date"),p=document.getElementById("task-priority"),E=document.getElementById("task-notes");function v(){localStorage.setItem("projectsArray",JSON.stringify(e))}function f(){r.innerHTML="",e.forEach((t=>{if(null!=t){let n=document.createElement("div"),d=document.createElement("p"),a=document.createElement("button");d.innerHTML="Project: "+t.title+"<br>Description: "+t.description+"<br>Due Date: "+t.dueDate,a.innerText="Delete Project",a.setAttribute("data-index",e.indexOf(t)),a.addEventListener("click",(function(){delete e[a.dataset.index],v(),r.removeChild(n)}));let i=document.createElement("button");i.innerHTML="Create Task",i.addEventListener("click",(function(){l.hidden=!1,c.setAttribute("data-index",e.indexOf(t))}));let o=document.createElement("div");t.tasks.forEach((e=>{if(null!=e){let n=document.createElement("p"),d=document.createElement("button");d.innerHTML="Delete Task",n.innerHTML+="<br><br>Task: "+e.title+"<br>Description: "+e.description+"<br>Due Date: "+e.dueDate+"<br>Priority: "+e.priority+"<br>Notes: "+e.notes+"<br><br>",d.setAttribute("data-index",t.tasks.indexOf(e)),d.addEventListener("click",(function(){delete t.tasks[d.dataset.index],v(),o.removeChild(n)})),n.append(d),o.append(n)}})),n.append(d,o,i,a),r.appendChild(n)}}))}t.addEventListener("click",(function(){n.hidden=!1})),d.addEventListener("click",(function(){if(""!=a.value&&""!=i.value&&""!=o.value){let l=(t=a.value,d=i.value,r=o.value,{title:t,description:d,dueDate:r,tasks:[]});e.push(l),v(),n.hidden=!0,f()}var t,d,r})),c.addEventListener("click",(function(){if(""!=u.value&&""!=s.value&&""!=m.value&&""!=p.value&&""!=E.value){let o=(t=u.value,n=s.value,d=m.value,a=p.value,i=E.value,{title:t,description:n,dueDate:d,priority:a,notes:i});e[c.dataset.index].tasks.push(o),v(),l.hidden=!0,f(),console.log(e)}var t,n,d,a,i})),e=JSON.parse(localStorage.getItem("projectsArray")),null===e&&(e=[]),f(),console.log(e)})();